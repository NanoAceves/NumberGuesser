{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useRef, useEffect } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Card from \"../components/Card\";\nimport NumberContainer from \"../components/NumberContainer\";\nimport Colors from \"../constants/Colors\";\nimport { direction_ as d } from \"../constants/constants\";\nimport { useFetchPokemon } from \"../hooks/useFetchpokemon\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar generateRandomBetween = function generateRandomBetween(min, max, exclude) {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  console.log('min, max', min, max);\n  var randNum = Math.random() * (max - min) + min;\n  var randNumFloored = Math.floor(randNum);\n\n  if (randNumFloored === exclude) {\n    return generateRandomBetween(min, max, exclude);\n  } else {\n    return randNumFloored;\n  }\n};\n\nvar GameScreen = function GameScreen(_ref) {\n  var selectedNumber = _ref.selectedNumber,\n      onGameOver = _ref.onGameOver;\n  var currentLow = useRef(1);\n  var currentHigh = useRef(100);\n\n  var _useState = useState(generateRandomBetween(currentLow.current, currentHigh.current, selectedNumber)),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentGuess = _useState2[0],\n      setCurrentGuess = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rounds = _useState4[0],\n      setRounds = _useState4[1];\n\n  var _useState5 = useState(undefined),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setName = _useState6[1];\n\n  var _useState7 = useState({\n    name: '',\n    img: ''\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      poke = _useState8[0],\n      setPoke = _useState8[1];\n\n  useEffect(function () {\n    if (currentGuess === selectedNumber) {\n      onGameOver(rounds, currentGuess);\n    }\n  }, [currentGuess]);\n  console.log(currentGuess);\n\n  var setPokemon = function setPokemon() {\n    var _await$useFetchPokemo, _await$useFetchPokemo2, name, img;\n\n    return _regeneratorRuntime.async(function setPokemon$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(useFetchPokemon(currentGuess));\n\n          case 2:\n            _await$useFetchPokemo = _context.sent;\n            _await$useFetchPokemo2 = _slicedToArray(_await$useFetchPokemo, 2);\n            name = _await$useFetchPokemo2[0];\n            img = _await$useFetchPokemo2[1];\n            setName(name);\n            setPoke({\n              name: name,\n              img: img\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var nextGuess = function nextGuess(direction) {\n    if (direction === d.higher && currentGuess > selectedNumber || direction === d.lower && currentGuess < selectedNumber) {\n      alert('Pls don\\t lie');\n      return;\n    }\n\n    if (direction === d.lower) {\n      currentHigh.current = currentGuess;\n    } else {\n      currentLow.current = currentGuess;\n    }\n\n    var nextNum = generateRandomBetween(currentLow.current, currentHigh.current, currentGuess);\n    setRounds(function (currentRounds) {\n      return setRounds(currentRounds + 1);\n    });\n    setCurrentGuess(nextNum);\n    setPokemon();\n  };\n\n  return _jsxs(View, {\n    style: styles.screen,\n    children: [_jsx(Text, {\n      children: \"Computer Guess: \"\n    }), _jsx(NumberContainer, {\n      children: currentGuess\n    }), _jsxs(Card, {\n      style: styles.buttonContainer,\n      children: [_jsx(Button, {\n        title: \"Lower\",\n        color: Colors.secondary,\n        onPress: function onPress() {\n          nextGuess(d.lower);\n        }\n      }), _jsx(Button, {\n        title: \"Higher\",\n        color: Colors.primary,\n        onPress: function onPress() {\n          nextGuess(d.higher);\n        }\n      })]\n    }), _jsxs(Card, {\n      children: [_jsx(Text, {\n        children: name\n      }), _jsx(Image, {\n        style: styles.pokeImage,\n        source: {\n          uri: poke.img\n        }\n      })]\n    })]\n  });\n};\n\nvar styles = StyleSheet.create({\n  screen: {\n    flex: 1,\n    padding: 10,\n    alignItems: 'center'\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginTop: 20\n  },\n  pokemonContainer: {\n    alignItems: 'center'\n  },\n  pokeImage: {\n    width: 100,\n    height: 100\n  }\n});\nexport default GameScreen;","map":{"version":3,"sources":["C:/Users/nano0/Desktop/NumberGuesser/screens/GameScreen.js"],"names":["React","useState","useRef","useEffect","Card","NumberContainer","Colors","direction_","d","useFetchPokemon","generateRandomBetween","min","max","exclude","Math","ceil","floor","console","log","randNum","random","randNumFloored","GameScreen","selectedNumber","onGameOver","currentLow","currentHigh","current","currentGuess","setCurrentGuess","rounds","setRounds","undefined","name","setName","img","poke","setPoke","setPokemon","nextGuess","direction","higher","lower","alert","nextNum","currentRounds","styles","screen","buttonContainer","secondary","primary","pokeImage","uri","StyleSheet","create","flex","padding","alignItems","flexDirection","justifyContent","marginTop","pokemonContainer","width","height"],"mappings":"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","sourcesContent":["import React, {useState, useRef, useEffect} from 'react'\r\nimport { Button, StyleSheet, Text, TextInput, View, Alert, Image } from \"react-native\";\r\nimport Card from '../components/Card';\r\nimport NumberContainer from '../components/NumberContainer';\r\nimport Colors from '../constants/Colors';\r\n\r\nimport { direction_ as d} from '../constants/constants';\r\nimport { useFetchPokemon } from \"../hooks/useFetchpokemon\";\r\n\r\n\r\nconst generateRandomBetween = (min, max, exclude) => {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n  \r\n    console.log('min, max', min, max)\r\n  \r\n    const randNum = Math.random() * (max - min) + min;\r\n    const randNumFloored = Math.floor(randNum);\r\n  \r\n    if (randNumFloored === exclude) {\r\n      return generateRandomBetween(min, max, exclude);\r\n    } else {\r\n      return randNumFloored;\r\n    }\r\n  }\r\n  \r\n\r\nconst GameScreen = ({selectedNumber, onGameOver}) => {\r\n\r\n    const currentLow = useRef(1);\r\n    const currentHigh = useRef(100);\r\n    const [currentGuess, setCurrentGuess] = useState(generateRandomBetween(currentLow.current, currentHigh.current, selectedNumber));\r\n\r\n    const [rounds, setRounds] = useState(0)\r\n\r\n    const [name, setName] = useState(undefined)\r\n    const [poke, setPoke]=useState({name:'', img:''})\r\n\r\n    useEffect(() => {\r\n      if(currentGuess === selectedNumber) {\r\n        onGameOver(rounds, currentGuess)\r\n      }\r\n    }, [currentGuess])\r\n    \r\n\r\n    console.log(currentGuess);\r\n\r\n    const setPokemon = async () => {\r\n      const [name, img] = await useFetchPokemon(currentGuess);\r\n      setName(name)\r\n      setPoke({name: name, img: img})\r\n    }\r\n\r\n    const nextGuess = direction => {\r\n        if( (direction === d.higher && currentGuess > selectedNumber ) ||\r\n        (direction === d.lower && currentGuess < selectedNumber)) {\r\n            \r\n            alert('Pls don\\t lie')\r\n            return\r\n        }\r\n\r\n        if(direction === d.lower) {\r\n          currentHigh.current = currentGuess;\r\n        } else {\r\n          currentLow.current = currentGuess;\r\n        }\r\n\r\n        const nextNum = generateRandomBetween(currentLow.current, currentHigh.current, currentGuess);\r\n        setRounds(currentRounds => setRounds(currentRounds + 1))\r\n        setCurrentGuess(nextNum);\r\n        setPokemon()\r\n\r\n    }\r\n\r\n  return (\r\n    <View style={styles.screen}>\r\n      <Text>Computer Guess: </Text>\r\n      <NumberContainer>{currentGuess}</NumberContainer>\r\n      <Card style={styles.buttonContainer}>\r\n          <Button title='Lower' color={Colors.secondary} onPress={ () => {nextGuess(d.lower)} } />\r\n          <Button title='Higher' color={Colors.primary} onPress={ () => {nextGuess(d.higher)} } />\r\n          \r\n      </Card>\r\n       <Card>\r\n        <Text>{name}</Text>\r\n        <Image style={styles.pokeImage} source={{uri:poke.img}}/>\r\n       </Card>\r\n    </View>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  screen: {\r\n      flex: 1,\r\n      padding: 10,\r\n      alignItems: 'center',\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    marginTop: 20,\r\n  },\r\n  pokemonContainer:{\r\n    alignItems: 'center',\r\n  },\r\n  pokeImage:{\r\n      width:100, \r\n      height:100\r\n  }\r\n})\r\n\r\nexport default GameScreen"]},"metadata":{},"sourceType":"module"}